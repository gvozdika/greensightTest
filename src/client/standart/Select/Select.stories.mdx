import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { action } from '@storybook/addon-actions';
import * as Yup from 'yup';
import { Button, scale, baseTheme } from '@greensight/gds';
import centeredDecorator from '@decorators/centeredDecorator';
import Select from '.';
import Form from '@standart/Form';
import StarIcon from '@svg/star.svg';

<Meta title="Standart / Select" component={Select} decorators={[centeredDecorator]} />

# Select

<Story name="Basic">
    <Form
        initialValues={{ select: '' }}
        validationSchema={Yup.object().shape({
            select: Yup.string().required('–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç'),
        })}
        onSubmit={action('Submit')}
        css={{ width: '25vw', minWidth: scale(40) }}
    >
        <Form.Field name="select">
            <Select
                label="–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç"
                hint="–¢–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏"
                items={[
                    { value: 'value1', label: '–í–∞—Ä–∏–∞–Ω—Ç 1' },
                    { value: 'value2', label: '–í–∞—Ä–∏–∞–Ω—Ç 2' },
                    { value: 'value3', label: '–í–∞—Ä–∏–∞–Ω—Ç 3' },
                    { value: 'value4', label: '–í–∞—Ä–∏–∞–Ω—Ç 4' },
                    { value: 'value5', label: '–í–∞—Ä–∏–∞–Ω—Ç 5' },
                    {
                        value: 'value6',
                        label: (
                            <>
                                <StarIcon
                                    width={scale(3)}
                                    height={scale(3)}
                                    style={{ marginRight: scale(1) }}
                                    fill={baseTheme.colors.brand}
                                />
                                <strong>–í–∞—Ä–∏–∞–Ω—Ç 6</strong>
                            </>
                        ),
                    },
                ]}
                onChange={action('onChange')}
            />
        </Form.Field>
        <br />
        <Button type="submit">Submit</Button>
    </Form>
</Story>

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–ª–∞–≥–∏–Ω: [Downshift](https://github.com/downshift-js/downshift), –∞ –≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏ [useSelect](https://github.com/downshift-js/downshift/tree/master/src/hooks/useSelect) –∏–∑ –Ω–æ–≤–æ–≥–æ Hooks API.

–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: [WAI-ARIA](https://www.w3.org/TR/wai-aria-practices/#Listbox).

`Select` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–∞—Å—Ç–æ–º–Ω—ã–π –æ–¥–∏–Ω–æ—á–Ω—ã–π —Å–µ–ª–µ–∫—Ç. –ü–æ–¥ –∫–∞—Å—Ç–æ–º–Ω—ã–º –ø–æ–Ω–∏–º–∞–µ—Ç—Å—è, —á—Ç–æ –æ–Ω –≤–æ–æ–±—â–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ–≥ select, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –≥–∏–±–∫–æ–π —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ —Ç.–∫. –æ–Ω –ø–æ –≤—Å–µ–º –ø—É–Ω–∫—Ç–∞–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, —Ç–æ –º–æ–∂–Ω–æ –Ω–µ –≤–æ–ª–Ω–æ–≤–∞—Ç—å—Å—è –Ω–∞ —ç—Ç–æ—Ç —Å—á—ë—Ç.

–°–µ–ª–µ–∫—Ç—ã –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ `downshift` - –±–∏–±–ª–∏–æ—Ç–µ–∫–µ –ö–µ–Ω—Ç–∞ –î–æ–¥–¥—Å–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –æ–Ω –≤–æ–ø–ª–æ—Ç–∏–ª –≤—Å–µ —Å–≤–æ–∏ –Ω–∞–≤—ã–∫–∏ React –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (–∞ –æ–Ω –≤ –Ω–∏—Ö —à–∞—Ä–∏—Ç, –∫–∞–∫ –Ω–∏–∫—Ç–æ –¥—Ä—É–≥–æ–π). –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–æ–≤–æ–ª—å–Ω–æ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –≤ —Ç–æ–º –ø–ª–∞–Ω–µ, —á—Ç–æ —Ç—ã –º–æ–∂–µ—à—å –Ω–∞ –Ω–µ–π –≤—Å—ë, –Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ —Ç–µ–±–µ –ø—Ä–∏–¥—ë—Ç—Å—è –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–∏–ª–∏—á–Ω–æ –∫–æ–¥–∞. –≠—Ç–æ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π API –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–æ—Å–∏—Ç—å –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∏—á–∏, –¥–µ–ª–∞–µ—Ç –∏—Ö —Å–∞–º. –ù–∞ —ç—Ç—É —Ç–µ–º—É –º–æ–∂–µ—Ç–µ –ø–æ—Å–ª—É—à–∞—Ç—å –µ–≥–æ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏–µ –Ω–∞ [React Rally](https://www.youtube.com/watch?v=AiJ8tRRH0f8). –ü—Ä–∞–≤–¥–∞ —Å –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ –¥–ª—è —Å–º–æ—Ä–∫–æ–≤, —Ç—É—Ç –Ω–∞–¥–æ –¥—É–º–∞—Ç—å ü•¥

–ö–∞—Å—Ç–æ–º–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä –≤ React –¥–µ–ª–∞–µ—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–æ, —Ç.–∫. –º—ã –º–æ–∂–µ–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ label –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Å–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. –ú–æ–∂–Ω–æ **–≤–æ–æ–±—â–µ –≤—Å—ë** üòÆ

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–æ–∏—Å–∫–∞ –µ—Å—Ç—å, –Ω–æ –±–µ–∑ –ø–æ–ª—è –≤–≤–æ–¥–∞. –†–∞–±–æ—Ç–∞–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –Ω–∞—Ç–∏–≤–Ω–æ–º—É —Å–µ–ª–µ–∫—Ç—É, –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—è –≤–≤–æ–¥ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, –ø–æ–∫–∞ –≤ —Ñ–æ–∫—É—Å–µ, –∏ —Ä–∞–∑–ª–∏—á–∞—è –±—ã—Å—Ç—Ä—ã–π –Ω–∞–±–æ—Ä –∏ –ø–∞—É–∑—ã - –ø–æ—Å–ª–µ –ø–∞—É–∑—ã –Ω–∞–±–æ—Ä —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è. –ò–º–µ–Ω–Ω–æ —Ç–∞–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è. –°–¥–µ–ª–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –ø–æ–ª–µ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ –≤–æ–∑–º–æ–∂–Ω–æ (–∫–∞–∫ –∏ –≤—Å—ë –Ω–∞ `downshift`), –Ω–æ –ø–æ–∫–∞ –Ω–µ—è—Å–Ω–æ –∑–∞—á–µ–º.

‚òùüèø –î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Å–µ–ª–µ–∫—Ç–∞ –¥–æ–ª–∂–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞, –∞ —Å –Ω–µ–π –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –∏–Ω–ø—É—Ç–∞ –Ω–µ–ª—å–∑—è —Å–≤—è–∑—ã–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ label, –ø–æ—ç—Ç–æ–º—É –≤ –∫–∞—á–µ—Å—Ç–≤–µ label –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è div —Å–æ —Å–≤—è–∑–∫–æ–π –ø–æ aria-labelledby. –ü—Ä–∏ —ç—Ç–æ–º aria-–∞—Ç—Ä–∏–±—É—Ç—ã –ø–æ–ª—É—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ props getters –∏–∑ downshift, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏—à–ª–æ—Å—å –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –æ–±—ë—Ä—Ç–∫–∏ –≤ Form.Field –∏ –ø—Ä–æ–ø–∏—Å—ã–≤–∞—Ç—å label –Ω–∞–ø—Ä—è–º—É—é (–º—ã –Ω–µ –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å —ç—Ç–∏ –ø—Ä–æ–ø—Å—ã —Å–Ω–∞—Ä—É–∂–∏).

‚ùóÔ∏è –ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –≤ item.label –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–æ–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø–æ–∏—Å–∫ –∏–¥—ë—Ç –ø–æ value –≤–º–µ—Å—Ç–æ label. –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∏–¥–µ—è –∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, —Ç–æ —ç—Ç–æ –±—ã–ª –±—ã –æ—Ç–ª–∏—á–Ω—ã–π pull request üòâ

‚òùüèø –ß–µ—Ä–µ–∑ `downshift` –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ —Å–µ–ª–µ–∫—Ç—ã, –Ω–æ –∏ –¥—Ä—É–≥–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å–æ —Å—Ö–æ–∂–∏–º API, –Ω–∞–ø—Ä–∏–º–µ—Ä –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–µ–ª–µ–∫—Ç—ã. –¢–∞–∫ —á—Ç–æ –±—ã–ª–æ –±—ã –∫—Ä—É—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞ –Ω—ë–º –¥—Ä—É–≥–∏–µ —Ç–∞–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ GDS, —á—Ç–æ–±—ã –Ω–µ —Ç—è–Ω—É—Ç—å –±–æ–ª—å—à–µ –±–∏–±–ª–∏–æ—Ç–µ–∫. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —á—Ç–æ, —Å–µ–ª–µ–∫—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –Ω–∞ –Ω–æ–≤–æ–º `Hooks API`, –∏ –Ω–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —ç—Ç–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–∞ —Ö—É–∫–∞—Ö –≤ `downshift` –Ω–∞–ø–∏—Å–∞–Ω —Ç–æ–ª—å–∫–æ –æ–Ω. –ó–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –º–æ–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å [–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤ Github](https://github.com/downshift-js/downshift/tree/master/src/hooks). –°–µ–π—á–∞—Å –≤–µ–¥—ë—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞, —Ç–∞–∫ —á—Ç–æ –ø—Ä–µ–¥–ª–∞–≥–∞—é –ø–æ–¥–æ–∂–¥–∞—Ç—å —Å —ç—Ç–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, –ø–æ–∫–∞ –æ–Ω–∏ –Ω–µ –±—É–¥—É—Ç –≥–æ—Ç–æ–≤—ã, —á—Ç–æ–±—ã –Ω–µ –¥–µ–ª–∞—Ç—å –¥–≤–æ–π–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

## Props

<ArgsTable />

## Use Cases

### W/O Form

<Canvas>
    <Story name="Default">
        {() => {
            const items = [
                { value: 'vadyanovich', label: 'Vadyan Vadyanovich' },
                { value: 'vadyanski', label: 'Vadim Vadyanski' },
                { value: 'vadyanevski', label: 'Vlad Vadyanevski' },
                { value: 'vadichelli', label: 'Vadik Vadichelli' },
                { value: 'vadimenski', label: 'Vados Vadimenski' },
                { value: 'vadyanov', label: 'Vadyan Vadyanov' },
                { value: 'vadileov', label: 'Vadim Vadileov' },
                { value: 'vadizimin', label: 'Vlad Vadizimin' },
                { value: 'vadnyanov', label: 'Vadik Vadnyanov' },
                { value: 'vadislavski', label: 'Vados Vadislavski' },
                {
                    value: 'sirvadyan',
                    label: (
                        <span>
                            Invincible Fearless Sensual Mysterious Enchanting Vigorous Diligent Overwhelming Gorgeous
                            Passionate Terrifying Beautiful Powerful{' '}
                            <strong
                                style={{
                                    background: 'linear-gradient(#000,#bf0400)',
                                    WebkitBackgroundClip: 'text',
                                    WebkitTextFillColor: 'transparent',
                                }}
                            >
                                Sir Vadyan
                            </strong>
                        </span>
                    ),
                },
                {
                    value: 'vadyan',
                    label: (
                        <>
                            <StarIcon width={24} height={24} style={{ marginRight: '8px' }} fill="red" />
                            <span>
                                <em>Vadyan</em> is a <strong>superstar</strong>
                            </span>
                        </>
                    ),
                },
            ];
            return (
                <Select
                    label="–ö–∞–∫–æ–π —Ç—ã —Å–µ–≥–æ–¥–Ω—è?"
                    hint="–¢—ã –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ –í–∞–¥—è–Ω, –Ω–æ –∫–∞–∫–æ–π..."
                    items={items}
                    onChange={action('onChange')}
                />
            );
        }}
    </Story>
</Canvas>
